{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/common/Button/Button.module.css","components/common/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/common/Button/Button.jsx","components/common/Modal/Modal.jsx","services/api.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","input","setInput","className","s","e","preventDefault","SearchForm","type","SearchFormButton","onChange","target","value","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGallery","children","ImageGalleryItem","previewImg","alt","largeImageURL","onImageClick","src","ImageGalleryItemImage","onClick","Button","onLoadMoreClick","ButtonWrapper","Modal","onModalClose","image","keydonwHandler","code","useEffect","window","addEventListener","removeEventListener","currentTarget","Overlay","axios","defaults","baseURL","fetchImages","page","a","queryParams","URLSearchParams","key","q","image_type","orientation","safesearch","per_page","get","toString","data","loaderStyle","position","left","top","transform","App","inputValue","setInputValue","images","setImages","totalImages","setTotalImages","setPage","isLoading","setIsLoading","modalImg","setModalImg","setAlt","getImages","imagesData","hits","totalHits","console","log","dataset","getAttribute","map","webformatURL","tags","nanoid","color","height","width","style","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.69a51fd4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3y3Iu\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2XATM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__sqhrZ\",\"ButtonWrapper\":\"Button_ButtonWrapper__2C_kJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3I_mQ\",\"Modal\":\"Modal_Modal__18BL1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3ALQV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__33UZp\",\"SearchForm\":\"Searchbar_SearchForm__2pbB6\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1IyAv\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__j2y1Z\",\"SearchFormInput\":\"Searchbar_SearchFormInput__Duuon\"};","import React from 'react'\r\nimport { useState } from 'react'\r\nimport s from './Searchbar.module.css'\r\n\r\nexport const Searchbar = ({onSubmit}) => {\r\n\r\n    const [input, setInput] = useState('')\r\n\r\n    const onSubmitHandler = e => {\r\n        e.preventDefault();\r\n        onSubmit(input)\r\n    }\r\n\r\n    const onChangeHandler = e => {\r\n        setInput(e.target.value)\r\n    }\r\n\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form onSubmit={onSubmitHandler} className={s.SearchForm}>\r\n                    <button type=\"submit\" className={s.SearchFormButton}>            \t\r\n                        &#128269;\r\n                    </button>\r\n\r\n                    <input\r\n                        onChange={onChangeHandler}\r\n                        className={s.SearchFormInput}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n}\r\n","\r\nimport s from './ImageGallery.module.css'\r\n\r\n\r\nexport const ImageGallery = ({children}) => {\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n            {children}  \r\n        </ul>\r\n    )\r\n}","    \r\nimport React from 'react'\r\nimport s from './ImageGalleryItem.module.css'\r\n\r\n\r\nexport const ImageGalleryItem  = ({previewImg, alt, largeImageURL, onImageClick}) => {\r\n    return (\r\n        <li className={s.ImageGalleryItem}>\r\n          <img data-image={largeImageURL} src={previewImg} alt={alt} className={s.ImageGalleryItemImage} onClick={onImageClick} />   \r\n        </li>\r\n    )\r\n}","import React from 'react'\r\nimport s from './Button.module.css'\r\n\r\nexport const Button = ({onLoadMoreClick}) => {\r\n    return (\r\n        <div className={s.ButtonWrapper}>\r\n            <button onClick={onLoadMoreClick} type='button' className={s.Button}>Load more</button>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useState, useEffect } from 'react'\r\nimport s from './Modal.module.css'\r\n\r\nexport const Modal = ({onModalClose, image, alt}) => {\r\n\r\n   const keydonwHandler = (e) => {\r\n        if (e.code === \"Escape\") {\r\n            onModalClose()\r\n        }\r\n    }\r\n\r\n    const clickHandler = e => {\r\n        if (e.target === e.currentTarget) {\r\n            onModalClose()\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', keydonwHandler)\r\n\r\n        return () => {\r\n            window.removeEventListener('keydown', keydonwHandler)\r\n        }\r\n    }, [])\r\n\r\n    // componentWillUnmount() {\r\n    //     window.removeEventListener('keydown', keydonwHandler)\r\n    // }\r\n    \r\n        return (\r\n        <div onClick={clickHandler} className={s.Overlay}>\r\n            <div className={s.Modal}>\r\n                    <img src={image} alt={alt}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import axios from 'axios';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '24479439-fad8fccb3aca2f73405340c7a';\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nconst fetchImages = async (input, page) => {\r\n  const queryParams = new URLSearchParams({\r\n    key: API_KEY,\r\n    q: input,\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    safesearch: 'true',\r\n    per_page: 12,\r\n    page: page,\r\n  });\r\n\r\n  const { data } = await axios.get('?' + queryParams.toString());\r\n  return data;\r\n};\r\n\r\nexport default fetchImages;\r\n","// import s from './App.module.css';\nimport { useState, useEffect } from 'react';\nimport { Searchbar } from './components/Searchbar/Searchbar';\nimport { ImageGallery } from './components/ImageGallery/ImageGallery';\nimport { ImageGalleryItem } from './components/ImageGallery/ImageGalleryItem/ImageGalleryItem';\nimport { Button } from './components/common/Button/Button';\nimport { Modal } from './components/common/Modal/Modal';\nimport { nanoid } from 'nanoid';\nimport fetchImages from './services/api';\nimport Loader from 'react-loader-spinner';\n\nconst loaderStyle = {\n  position: 'fixed',\n  left: '50%',\n  top: '50%',\n  transform: 'translate(-50%, -50%)',\n};\n\nconst App = () => {\n  const [inputValue, setInputValue] = useState('');\n  const [images, setImages] = useState([]);\n  const [totalImages, setTotalImages] = useState(0);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [modalImg, setModalImg] = useState('');\n  const [alt, setAlt] = useState('');\n\n  useEffect(() => {\n    getImages();\n  }, [inputValue, page]);\n\n  const getImages = async () => {\n    setIsLoading(true);\n    try {\n      const data = await fetchImages(inputValue, page);\n      const imagesData = data.hits;\n      const totalImages = data.totalHits;\n\n      setImages([...images, ...imagesData]);\n      setTotalImages(totalImages);\n    } catch (error) {\n      console.log(error);\n      setIsLoading(false);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const submitHandler = value => {\n    setInputValue(value);\n    setImages([]);\n    setTotalImages(0);\n    setPage(1);\n  };\n\n  const onLoadMoreClick = () => {\n    setPage(page + 1);\n  };\n\n  const onImageClick = e => {\n    if (e.target === e.currentTarget) {\n      setModalImg(e.target.dataset.image);\n      setAlt(e.target.getAttribute('Alt'));\n    }\n  };\n\n  const onModalClose = () => {\n    setModalImg('');\n    setAlt('');\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={submitHandler} />\n\n      <ImageGallery>\n        {images.map(({ webformatURL, tags, largeImageURL }) => {\n          return (\n            <ImageGalleryItem\n              key={nanoid()}\n              previewImg={webformatURL}\n              alt={tags}\n              largeImageURL={largeImageURL}\n              onImageClick={onImageClick}\n            />\n          );\n        })}\n      </ImageGallery>\n\n      {modalImg !== '' && (\n        <Modal image={modalImg} alt={alt} onModalClose={onModalClose} />\n      )}\n\n      {totalImages > 11 && !isLoading && (\n        <Button onLoadMoreClick={onLoadMoreClick} />\n      )}\n      {isLoading && (\n        <Loader\n          type=\"Oval\"\n          color=\"#3f51b5\"\n          height={80}\n          width={80}\n          style={{ ...loaderStyle }}\n        />\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'normalize.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}